<div class="offcanvas-header">
  <h5 class="offcanvas-title">Confirmar borrado</h5>
{#  <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>#}
</div>

<div class="offcanvas-body">
  {% if error %}
    <div class="alert alert-warning">{{ error }}</div>
  {% else %}
    <p class="mb-3">
      ¿Seguro que querés borrar <strong>{{ object }}</strong>? Esta acción no se puede deshacer.
    </p>
  {% endif %}

  <form method="post"
        action="{{ request.path }}"
        hx-post="{{ request.path }}"
        hx-target="#offcanvasBody"
        hx-swap="innerHTML"
        hx-on="htmx:afterRequest:
                 if (event.target === this && event.detail.xhr.status !== 422 && event.detail.xhr.status !== 409) {
                   htmx.trigger(htmx.find('#tbodyPelis'),'refresh');
                   bootstrap.Offcanvas.getOrCreateInstance('#peliculaOffcanvas').hide();
                 }">
    {% csrf_token %}

    <div class="d-flex justify-content-end gap-2">
      <button type="button" class="btn btn-secondary" data-bs-dismiss="offcanvas">Cancelar</button>
      <button type="submit" class="btn btn-danger">Borrar</button>
    </div>
  </form>
</div>
